version: '3.7'

services:

  identity:
    image: tiksn/lionize-identity-management-service:latest
    ports:
      - "8081:80"
    env_file:
      - variables.env
    environment:
      - ConnectionStrings__Users="Server=mssql;Database=IdentityManagementService;User Id=sa;Password=z0aiDwJ0205q37Nr;"
      - ConnectionStrings__Configuration="Server=mssql;Database=IdentityManagementService;User Id=sa;Password=z0aiDwJ0205q37Nr;"
      - ConnectionStrings__Operational="Server=mssql;Database=IdentityManagementService;User Id=sa;Password=z0aiDwJ0205q37Nr;"
      - ApiResource__ApiName=identity-api
    networks:
      - lionize

  tasks:
    image: tiksn/lionize-task-management-service:latest
    ports:
      - "8083:80"
    env_file:
      - variables.env
    environment:
      - ApiResource__ApiName=task-api
    networks:
      - lionize

  habitica:
    image: tiksn/lionize-habitica-task-provider-service:latest
    ports:
      - "8085:80"
    env_file:
      - variables.env
    environment:
      - ApiResource__ApiName=habitica-api
    networks:
      - lionize

  web-ui:
    image: ashotnazaryan45/lionize-web-ui:latest
    ports:
      - "8080:80"
    networks:
      - lionize

networks:
      lionize:
        driver: bridge